import{a as b,t as w,c as me}from"../chunks/disclose-version.DGztNrma.js";import{ab as oe,x as ge,at as qe,au as X,E as Ce,av as Te,aw as $e,ac as Se,u as Me,J as le,ax as Ae,P as Ne,n as L,ay as xe,L as ce,M as ve,N as Re,p as T,t as K,a as $,b as d,c as u,r as p,az as Ee,aA as G,f as ee,a2 as fe,i as Z,as as Oe,l as de}from"../chunks/runtime.DaEpNkZ5.js";import{i as N,o as Le}from"../chunks/index-client.CwjB7mqd.js";import{d as Pe,s as F,a as se,b as R,e as re,f as Fe}from"../chunks/store.kewhkQIb.js";import{i as V}from"../chunks/legacy.Dz5g9wp_.js";import{w as ie,g as Ue}from"../chunks/index.C7jJ3zO7.js";function x(t,e,a,s){var r=t.__attributes??(t.__attributes={});ge&&(r[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||r[e]!==(r[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[X]=a),a==null?t.removeAttribute(e):typeof a!="string"&&Be(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var ue=new Map;function Be(t){var e=ue.get(t.nodeName);if(e)return e;ue.set(t.nodeName,e=[]);for(var a,s=oe(t),r=Element.prototype;r!==s;){a=qe(s);for(var i in a)a[i].set&&e.push(i);s=oe(s)}return e}function W(t){if(!ge&&t.loading==="lazy"){var e=t.src;t[X]=null,t.loading="eager",t.removeAttribute("src"),requestAnimationFrame(()=>{t[X]!=="eager"&&(t.loading="lazy"),t.src=e})}}const De=()=>performance.now(),C={tick:t=>requestAnimationFrame(t),now:()=>De(),tasks:new Set};function _e(t){C.tasks.forEach(e=>{e.c(t)||(C.tasks.delete(e),e.f())}),C.tasks.size!==0&&C.tick(_e)}function Ye(t){let e;return C.tasks.size===0&&C.tick(_e),{promise:new Promise(a=>{C.tasks.add(e={c:t,f:a})}),abort(){C.tasks.delete(e)}}}function Y(t,e){t.dispatchEvent(new CustomEvent(e))}function je(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function pe(t){const e={},a=t.split(";");for(const s of a){const[r,i]=s.split(":");if(!r||i===void 0)break;const n=je(r.trim());e[n]=i.trim()}return e}const Ge=t=>t;function ye(t,e,a,s){var r=(t&xe)!==0,i="both",n,c=e.inert,l,v;function f(){var o=Re,m=le;ce(null),ve(null);try{return n??(n=a()(e,(s==null?void 0:s())??{},{direction:i}))}finally{ce(o),ve(m)}}var _={is_global:r,in(){e.inert=c,Y(e,"introstart"),l=te(e,f(),v,1,()=>{Y(e,"introend"),l==null||l.abort(),l=n=void 0})},out(o){e.inert=!0,Y(e,"outrostart"),v=te(e,f(),l,0,()=>{Y(e,"outroend"),o==null||o()})},stop:()=>{l==null||l.abort(),v==null||v.abort()}},g=le;if((g.transitions??(g.transitions=[])).push(_),Pe){var k=r;if(!k){for(var h=g.parent;h&&h.f&Ce;)for(;(h=h.parent)&&!(h.f&Te););k=!h||(h.f&$e)!==0}k&&Se(()=>{Me(()=>_.in())})}}function te(t,e,a,s,r){var i=s===1;if(Ae(e)){var n,c=!1;return Ne(()=>{if(!c){var m=e({direction:i?"in":"out"});n=te(t,m,a,s,r)}}),{abort:()=>{c=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return r(),{abort:L,deactivate:L,reset:L,t:()=>s};const{delay:l=0,css:v,tick:f,easing:_=Ge}=e;var g=[];if(i&&a===void 0&&(f&&f(0,1),v)){var k=pe(v(0,1));g.push(k,k)}var h=()=>1-s,o=t.animate(g,{duration:l});return o.onfinish=()=>{var m=(a==null?void 0:a.t())??1-s;a==null||a.abort();var z=s-m,I=e.duration*Math.abs(z),S=[];if(I>0){if(v)for(var E=Math.ceil(I/16.666666666666668),A=0;A<=E;A+=1){var O=m+z*_(A/E),U=v(O,1-O);S.push(pe(U))}h=()=>{var M=o.currentTime;return m+z*_(M/I)},f&&Ye(()=>{if(o.playState!=="running")return!1;var M=h();return f(M,1-M),!0})}o=t.animate(S,{duration:I,fill:"forwards"}),o.onfinish=()=>{h=()=>s,f==null||f(s,1-s),r()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=L)},deactivate:()=>{r=L},reset:()=>{s===0&&(f==null||f(1,0))},t:()=>h()}}const H="https://api.howsthevolu.me",He=()=>{if(typeof localStorage<"u"){const t=localStorage.getItem("localCount");if(t==null)return 0;{const e=parseInt(t,10);return isNaN(e)?0:e}}else return 0},ae=ie(He()),be=async()=>{try{const t=await fetch(`${H}/count`);if(t.ok){const e=await t.json(),a=parseInt(e.count,10);if(!isNaN(a))return a}return 0}catch{return 0}},Ke=async()=>{J.update(t=>t+1),await fetch(`${H}/increment`,{method:"POST"})},he=t=>Math.max(1,10**Math.floor(Math.log10(t))),we=async(t,e)=>{let a=Ue(J);if(a!=e){let s=he(e-a);j!==void 0&&clearInterval(j),j=setInterval(()=>{if(a>=e)clearInterval(j);else{const r=e-a;r<s&&(s=he(r)),a+=s,t(Math.min(a,e))}},20)}};let j;const J=ie(0,t=>{const e=setInterval(async()=>{const a=await be();await we(t,a)},2e4);return()=>{clearInterval(e)}}),P=ie(0);var Ve=w('<div class="gl-count-wrapper svelte-17nfff7"><p class="svelte-17nfff7">Volumes checked across the world:</p> <h1 class="svelte-17nfff7"> </h1></div>');function We(t,e){T(e,!1);const a=F(),s=()=>R(J,"$globalCount",a);V();var r=Ve(),i=d(u(r),2),n=u(i,!0);K(()=>se(n,s().toLocaleString())),p(i),p(r),b(t,r),$()}var Je=w('<p class="svelte-1yf5daj"> </p>');function Qe(t,e){T(e,!1);const a=F(),s=()=>R(ae,"$localCount",a);V();var r=Je(),i=u(r);K(()=>se(i,`Volumes checked: ${s().toLocaleString()??""}`)),p(r),b(t,r),$()}var Ze=w('<button class="svelte-5hkfd4">Check the volume</button>');function Xe(t,e){T(e,!1);const a=F(),s=()=>R(P,"$clickOpacity",a),r=()=>R(ae,"$localCount",a);let i,n,c;const l=43,v=async()=>{try{const o=await fetch(`${H}/num-files`);if(o.ok){const m=await o.json(),z=parseInt(m.count,10);if(!isNaN(z))return z}return l}catch{return l}};function f(){i!==void 0&&clearTimeout(i),n!=null&&clearInterval(n),i=setTimeout(()=>{let o=s();n=setInterval(()=>{o<=0?clearInterval(n):(o-=.5,P.set(o))},50)},7*1e3),P.update(o=>{const m=o+.25;return Math.min(m,100)}),ae.update(o=>o+1),localStorage.setItem("localCount",r().toString()),Ke()}function _(o){return Math.floor(Math.random()*(o+1))}let g;async function k(){f(),c===void 0&&(c=await v()-1);const o=_(c),m=new Audio;if(m.crossOrigin="anonymous",m.src=`${H}/sound/${o}`,g==null&&(g=new AudioContext),g!=null){const z=g.createMediaElementSource(m),I=_(2)-1,S=new StereoPannerNode(g,{pan:I});z.connect(S).connect(g.destination)}m.play()}V();var h=Ze();h.__click=k,b(t,h),$()}re(["click"]);function et(t,e){e.openModal()}var tt=w('<button class="svelte-1xw4gg7">i</button>');function at(t,e){T(e,!0);var a=tt();a.__click=[et,e],b(t,a),$()}re(["click"]);const st=t=>t;function ke(t,{delay:e=0,duration:a=400,easing:s=st}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:a,easing:s,css:i=>`opacity: ${i*r}`}}function rt(t,e){e(),t.stopPropagation()}var it=w(`<div id="modal-background" role="none" class="svelte-7iz43q"><div class="modal-wrapper svelte-7iz43q"><div class="modal-header svelte-7iz43q"><h1 class="svelte-7iz43q">About</h1> <button class="close svelte-7iz43q">âœ•</button></div> <div class="modal-body svelte-7iz43q"><div class="text-block svelte-7iz43q"><h1 class="svelte-7iz43q">What is this?</h1> <p class="svelte-7iz43q">This is a site for <a href="https://www.youtube.com/channel/UC8rcEBzJSleTkf_-agPM20g" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">IRyS</a>, one of Hololive's resident <strike>pons</strike> VSingers and our favourite lovable
					nephilim! The general premise is inspired by <a href="https://impomu.com/" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">impomu</a> and <a href="https://faunaraara.com/" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">faunaraara</a>.</p> <p class="svelte-7iz43q">For those interested in the source code for both the site and server, it can be found <a href="https://github.com/Pyreko/hows-the-volume" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">over here on GitHub</a>.</p></div> <div class="text-block svelte-7iz43q"><h1 class="svelte-7iz43q">Where's the volume?</h1> <p class="svelte-7iz43q">All voice clips and their original stream sources can also be found in the <a href="https://github.com/Pyreko/hows-the-volume/tree/main/server/assets/README.md" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">here</a>.</p></div> <div class="text-block svelte-7iz43q"><h1 class="svelte-7iz43q">Credits</h1> <p class="svelte-7iz43q">I couldn't have done this alone! Lots of stuff was used or referred to in order to make
					this site:</p> <ul class="svelte-7iz43q"><li><p class="svelte-7iz43q"><a href="https://twitter.com/chrone_co/status/1633428830311550976" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">Chroneco's emotes and tweet</a> were used for the favicon, some elements, and inspiration for theming.</p></li> <li><p class="svelte-7iz43q">The font used throughout is <a href="https://www.fontspring.com/fonts/inky-type/riffic" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">Riffic Free Bold</a>.</p></li> <li><p class="svelte-7iz43q">The frontend is written in <a href="https://svelte.dev/" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">Svelte</a>.</p></li> <li><p class="svelte-7iz43q">The backend is written in <a href="https://www.rust-lang.org/" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">Rust</a>, using the <a href="https://github.com/tokio-rs/axum" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">axum framework</a>.</p></li> <li><p class="svelte-7iz43q">Thanks to various people for helping me find all the voice clips, particularly at <a href="https://discord.gg/irystocrats" class="svelte-7iz43q">IRyS' Stage Fan Discord</a>!</p></li> <li><p class="svelte-7iz43q"><a href="https://impomu.com/" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">impomu</a> and <a href="https://faunaraara.com/" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">faunaraara</a> for the inspiration in the first place.</p></li> <li><p class="svelte-7iz43q">Background pattern inspired by IRyS's patterns from her <a href="https://www.behance.net/gallery/123239061/Virtual-Youtuber-IRyS-Branding/modules/700551439" class="svelte-7iz43q">branding page</a>.</p></li></ul></div> <div class="text-block svelte-7iz43q"><h1 class="svelte-7iz43q">Something not working?</h1> <p class="svelte-7iz43q">If you find something not working, please report it <a href="https://github.com/Pyreko/hows-the-volume/issues" target="_blank" rel="noopener noreferrer" class="svelte-7iz43q">here</a>!</p></div> <div class="image-block svelte-7iz43q"><img src="/images/heart.webp" alt="heart" loading="lazy" class="svelte-7iz43q"></div></div></div></div>`);function nt(t,e){T(e,!0);function a(){e.closeModal()}function s(_){_.key==="Escape"&&(a(),_.stopPropagation())}var r=it();Fe("keydown",Ee,s),r.__click=[rt,a];var i=u(r),n=u(i),c=d(u(n),2);c.__click=a,p(n);var l=d(n,2),v=d(u(l),8),f=u(v);p(v),p(l),p(i),p(r),W(f),ye(3,r,()=>ke,()=>({duration:100})),b(t,r),$()}re(["click"]);var ot=w('<div class="svelte-51ccey"><img loading="lazy" class="svelte-51ccey"></div>');function lt(t,e){T(e,!1);const a=F(),s=()=>R(P,"$clickOpacity",a);let r=(()=>{const v=[{img:"/images/wink.webp",alt:"A winking IRyS."},{img:"/images/smug.webp",alt:"A smug IRyS."}];let f=Math.floor(Math.random()*v.length);return v[f]})(),i=r.img,n=r.alt;V();var c=ot(),l=u(c);x(l,"src",i),x(l,"alt",n),p(c),K(()=>x(l,"style",`opacity: ${s()??""}%`)),W(l),b(t,c),$()}var ct=w('<div><p class="svelte-wg0ixb">Support IRyS on <a target="_blank" rel="noopener noreferrer">YouTube</a>, <a target="_blank" rel="noopener noreferrer">Twitter</a>, and <a target="_blank" rel="noopener noreferrer">Spotify</a>!</p></div>');function vt(t){const e="https://open.spotify.com/artist/7y1hO3QeftnOJmWCbzeZav",a="https://twitter.com/irys_en",s="https://www.youtube.com/@IRyS";var r=ct(),i=u(r),n=d(u(i));x(n,"href",s);var c=d(n,2);x(c,"href",a);var l=d(c,2);x(l,"href",e),G(),p(i),p(r),b(t,r)}var ft=w('<div class="celebration-wrapper svelte-irt7bm"><div class="anni-text-wrapper svelte-irt7bm"><p class="svelte-irt7bm">Happy</p> <p class="anniversary svelte-irt7bm">Anniversa<img alt="rys" src="/images/rys.webp" loading="lazy" class="svelte-irt7bm">!</p></div> <p class="anni-sub svelte-irt7bm"> </p></div>');function dt(t,e){var a=ft(),s=u(a),r=d(u(s),2),i=d(u(r));G(),p(r),p(s);var n=d(s,2),c=u(n);p(n),p(a),K(()=>se(c,`Congrats on the ${e.numYears??""} year anniversary, IRyS!`)),W(i),b(t,a)}var ut=w('<div class="diamonds-wrapper svelte-1892rhs"><div class="diamonds svelte-1892rhs"></div></div>');function pt(t){var e=ut();b(t,e)}var ht=w('<div class="confetti-wrapper svelte-1elrpsz"><div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div> <div class="confetti svelte-1elrpsz"></div></div>');function mt(t,e){T(e,!0);function a(){try{return window.matchMedia("(prefers-reduced-motion: reduce)").matches}catch{return!1}}var s=me(),r=ee(s);N(r,()=>e.showConfetti&&!a(),i=>{var n=ht();ye(3,n,()=>ke,()=>({duration:200})),b(i,n)}),b(t,s),$()}var gt=w('<div class="celebration-wrapper svelte-nlbhcc"><div class="birthday-text-wrapper svelte-nlbhcc"><p class="svelte-nlbhcc">Happy</p> <p class="birthday svelte-nlbhcc">Birthday<img alt="rys" src="/images/rys.webp" loading="lazy" class="svelte-nlbhcc">!</p></div> <p class="birthday-sub svelte-nlbhcc">Happy birthday, IRyS!</p></div>');function _t(t){var e=gt(),a=u(e),s=d(u(a),2),r=d(u(s));G(),p(s),p(a),G(2),p(e),W(r),b(t,e)}var yt=w('<!> <div class="info-wrapper svelte-14jek2a"><!></div> <!> <!> <!> <div class="box svelte-14jek2a"><!> <!> <!> <!> <!></div>',1);function Ct(t,e){T(e,!0);const a=F(),s=()=>R(P,"$clickOpacity",a);async function r(){const y=await be();await we(J.set,y)}Le(async()=>{await r()});let i=Oe(!1);function n(){fe(i,!0)}function c(){fe(i,!1)}function l(y,q){function B(Q,Ie){return Q.setUTCHours(Q.getUTCHours()+Ie),Q}const D=B(new Date,-12),ne=B(new Date,14);return(D.getUTCMonth()+1==y||ne.getUTCMonth()+1==y)&&D.getUTCDate()<=q&&q<=ne.getUTCDate()}function v(){return l(7,11)}function f(){return new Date().getUTCFullYear()-2021}function _(){return l(3,7)}function g(){return v()||_()}var k=yt(),h=ee(k);pt(h);var o=d(h,2),m=u(o);at(m,{openModal:n}),p(o);var z=d(o,2);N(z,()=>Z(i),y=>{nt(y,{closeModal:c})});var I=d(z,2);N(I,()=>s()>0,y=>{lt(y,{})});var S=d(I,2);N(S,g,y=>{var q=de(()=>s()>0);mt(y,{get showConfetti(){return Z(q)}})});var E=d(S,2),A=u(E);N(A,v,y=>{var q=de(f);dt(y,{get numYears(){return Z(q)}})},y=>{var q=me(),B=ee(q);N(B,_,D=>{_t(D)},null,!0),b(y,q)});var O=d(A,2);We(O,{});var U=d(O,2);Qe(U,{});var M=d(U,2);Xe(M,{});var ze=d(M,2);vt(ze),p(E),b(t,k),$()}export{Ct as component};
